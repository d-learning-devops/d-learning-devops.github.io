<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Passbolt Help | Using Passbolt CE AWS AMI</title>
    <!--
             ____                  __          ____
            / __ \____  _____ ____/ /_  ____  / / /_
           / /_/ / __ `/ ___/ ___/ __ \/ __ \/ / __/
          / ____/ /_/ (__  |__  ) /_/ / /_/ / / /_
         /_/    \__,_/____/____/_.___/\____/_/\__/

         Open source password manager for teams
         © 2019 Passbolt SA

     -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta property="og:image" content="https://help.passbolt.com/assets/img/background/og_preview.jpg" />
    <meta property="og:title" content="Using Passbolt CE AWS AMI" />
    <meta property="og:description" content="" />
    <link rel="stylesheet" href="https://help.passbolt.com/assets/css/help.min.css">
    <link rel="stylesheet" href="https://help.passbolt.com/assets/css/highlight.css">
    <link rel="stylesheet" href="https://help.passbolt.com/assets/css/cookie-eu-banner.css">
    <link rel="canonical" href="https://help.passbolt.com/hosting/install/ce/aws">
    <link rel="shortcut icon" type="image/x-icon" href="https://help.passbolt.com/assets/favicon.ico" />
    <link rel="alternate" type="application/rss+xml" title="Passbolt | Help" href="https://help.passbolt.com/feed.xml">

</head>


<body>
    <div id="container" class="help page background">
            <header>
        <div class="header first ">
            <nav class="greedy">
                <div class="top navigation primary">
                    <ul class="links clearfix">
                        <li class="home with-text"><a href="http://www.passbolt.com/"><span>home</span></a></li>
                        <li class="left"><a href="https://www.passbolt.com/services"><span>pricing</span></a></li>
                        <li class="left"><a href="https://www.passbolt.com/roadmap"><span>roadmap</span></a></li>
                        <li class="left"><a href="https://community.passbolt.com/"><span>forum</span></a></li>
                        <li class="left"><a href="https://www.passbolt.com/blog"><span>blog</span></a></li>
                        <li class="left selected"><a href="https://help.passbolt.com/"><span>help</span></a></li>
                        <li class="left"><a href="https://demo.passbolt.com" class="highlighted" target="_blank" rel="noopener"><span>try it!</span></a></li>
                    </ul>
                    <button class="hidden" count="0">more</button>
                    <ul class="hidden-links hidden"></ul>
                </div>
            </nav>
        </div>
    </header>
    <div class="header second">
        <div class="col1">
            <div class="logo no-img">
                <h1><span>Passbolt</span></h1>
            </div>
        </div>
        <div class="col2 search-wrapper">
            <h2 class="visuallyhidden">Help Search</h2>
            <div>
                <form class="search ready" action="/search.html" method="get">
                    <div class="input required">
                        <label for="search-box">Search</label>
                        <input id="search-box" name="query" maxlength="64" placeholder="Help search" class="fuzzy-search" type="search">
                    </div>
                    <button value="search">
                        <i class="fa fa-fw fa-search"></i>
                        <span class="text visuallyhidden">search</span>
                    </button>
                </form>
            </div>
        </div>
        <div class="col3">
            <div class="edit-on-github">
                <a href="https://github.com/passbolt/passbolt_help/edit/master/_posts/hosting/installation/2020-11-27-hosting-install-aws-ami-ce.md" class="button">
                    <i class="fa fa-github-alt fa-fw"></i> Edit on github</a>
            </div>
        </div>
    </div>

        <div class="panel main" aria-label="Content">
            <div class="panel left">
                
                







<div class="navigation-help" role="navigation">
    <ul>
        <li>
            <h2>Hosting</h2>
        </li>
        
        <li >
            <a href="https://help.passbolt.com/faq/hosting">Hosting FAQ</a>
        </li>
        
        
        <li >
            <a href="https://help.passbolt.com/hosting/install">Installation</a>
        </li>
        
        
        
        
        <li >
            <a href="https://help.passbolt.com/hosting/update">Update</a>
        </li>
        
        
        <li >
            <a href="https://help.passbolt.com/hosting/upgrade">Upgrade</a>
        </li>
        
        
        <li >
            <a href="https://help.passbolt.com/hosting/backup">Backup</a>
        </li>
        
        
        <li >
            <a href="https://community.passbolt.com/c/installation-issues">Installation issues</a>
        </li>
        
        
    </ul>
</div>










                
            </div>
            <div class="panel middle" data-spy="scroll" data-target=".scrollspy">
                <div class="grid grid-responsive-12">
                    <article>
                        <div class="row" id="introduction">
    <div class="col12">
        <div class="breadcrumbs">
            <ul>
                <li>
                    <div class="main-cell">
                        <a href="https://www.passbolt.com"><span>home</span></a>
                    </div>
                </li>
                <li>
                    <div class="main-cell">
                        <a href="/"><span>help</span></a>
                    </div>
                </li>
                
                
                <li>
                    <div class="main-cell">
                        <a href="https://help.passbolt.com/hosting"><span>hosting</span></a>
                    </div>
                </li>
                <li>
                    <div class="main-cell">
                        <a href="https://help.passbolt.com/hosting/install"><span>install</span></a>
                    </div>
                </li>
                
                
                
                <li>
                    <div class="main-cell">
                        <a href="https://help.passbolt.com/hosting/install/ce/aws.html"><span>aws</span></a>
                    </div>
                </li>
                
            </ul>
        </div>
    </div>
</div>

                        <div class="row" markdown="1">
<div class="col7" markdown="1">
<h1>Using Passbolt CE AWS AMI</h1>
</div>
</div>

                        
<div class="row">
  <div class="col7">
    <p>Passbolt Amazon Machine Image (AMI) provides a ready to use passbolt image that you can
use for free on your Amazon Web Services infrastructure.
The AMI includes the following software:</p>

    <ul>
      <li>Debian 10</li>
      <li>Nginx</li>
      <li>Php-fpm</li>
      <li>Mariadb</li>
      <li>Passbolt CE preinstalled</li>
      <li>certbot</li>
    </ul>

    <p>This AMI does not provide an email server preinstalled so users can manually install it or
leverage on third party email providers.</p>

    <h2 id="getting-started-with-passbolt-ce-ami">1. Getting started with passbolt CE AMI</h2>

    <p>You can subscribe to passbolt  CE on the following <a href="https://aws.amazon.com/marketplace/pp/B08PDGS3ML">AWS marketplace listing</a>. Just
click on “continue to subscribe” button on the listing page.</p>

    <figure>
    <img src="https://help.passbolt.com/assets/img/help/2020/12/subscribe-aws.png" alt="subscribe to passbolt marketplace community edition" style="max-width:586px;" />
    <span class="legend">fig. subscribe to passbolt marketplace community edition</span>
</figure>

    <p>The EULA for the passbolt CE is the AGPL license you have to accept that in order
to use this image by just clicking on the “Accept terms” button.</p>

    <figure>
    <img src="https://help.passbolt.com/assets/img/help/2020/12/accept-terms.png" alt="Accept AMI terms" style="max-width:586px;" />
    <span class="legend">fig. Accept AMI terms</span>
</figure>

    <p>Once the terms are accepted you can click on “Continue to configuration” button. In the next
screen you will be able to select which version of the AMI you want to use as well as in which AWS region
you want the instance to be launched.
Once you have selected your desired configuration just click on “Continue to Launch” button.</p>

    <figure>
    <img src="https://help.passbolt.com/assets/img/help/2020/12/configure-aws.png" alt="Configure instance region and version" style="max-width:586px;" />
    <span class="legend">fig. Configure instance region and version</span>
</figure>

    <p>On the launch screen you will be able to select:</p>
    <ul>
      <li>How to launch the instance</li>
      <li>Instance type</li>
      <li>VPC</li>
      <li>Subnet settings</li>
      <li>Security group settings</li>
      <li>Key pair settings</li>
    </ul>

    <p>If you do not know what this fields mean just rely on the defaults making sure that they key pair
is available on your local machine so you can connect through SSH to the instance.
If all the values are good just click on “Launch” button.</p>

    <figure>
    <img src="https://help.passbolt.com/assets/img/help/2020/12/launch-aws.png" alt="Launch instance" style="max-width:586px;" />
    <span class="legend">fig. Launch instance</span>
</figure>

    <h3 id="connect-to-your-instance">1.1 Connect to your instance</h3>

    <p>As soon as your passbolt instance is ready connect to it using ssh. You can leverage on the
automatic AWS DNS that is automatically attached to the instance:</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ssh admin@ec2-my-instance-ip.compute-1.amazonaws.com
</code></pre></div>    </div>

    <p>Where ‘my-instance-ip’ would be the public ip address assigned to the instance dash separated. For example</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ec2-10-0-0-1.compute-1.amazonaws.com
</code></pre></div>    </div>

    <p>This dynamic DNS name might vary depending on your IP but also on the region you run your instance. More information
about AWS public DNS names <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-instance-addressing.html#concepts-public-addresses">here</a></p>

    <h3 id="retrieve-the-credentials">1.2 Retrieve the credentials</h3>

    <div class="message notice">
<p>Note: the appliance performs some actions on the first boot:</p>
<ul>
<li>Create ssh host keys</li>
<li>Enable ssh</li>
<li>Create a set of random mariadb credentials for the mariadb server installed on the appliance</li>
<li>Create an empty database where passbolt can be installed.</li>
</ul>
</div>

    <p>The <code class="language-plaintext highlighter-rouge">admin</code> user is part of <code class="language-plaintext highlighter-rouge">sudo</code> group. There is no root password, so you cannot
login in as root. You can however create a shell as root with the default user:</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo -s
</code></pre></div>    </div>

    <p>Mariadb credentials are stored on <code class="language-plaintext highlighter-rouge">/root/.mysql_credentials</code>. You will need to retrieve them for the next step:</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo cat /root/.mysql_credentials
</code></pre></div>    </div>

    <p>The file contains:</p>
    <ul>
      <li>Random password for root user</li>
      <li>Empty database name. It follows the pattern passbolt_random_id</li>
      <li>Random user and password with permissions for the passbolt database</li>
    </ul>

    <p>Output example:</p>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>root_username = root
root_password = "SOME_RANDOM_PASSWORD_HERE"

username = "passbolt_usr_l9WIsaQO"
password = "SOME_RANDOM_PASSWORD_HERE"
database = "passbolt_p5aEMDJ9"
</code></pre></div>    </div>

    <p>Please note that ‘l9WIsaQO’ is a random generated identifier that might vary from instance to instance.</p>

    <h3 id="setup-https-optional-but-highly-recommended">1.3. Setup HTTPS (optional, but highly recommended):</h3>

    <p>If you are planning to use this AWS instance in production, it is highly recommended to setup SSL. There are two main methods described below:</p>

    <ul>
      <li><a href="/configure/https/ce/debian/auto.html">Auto (Using Let’s Encrypt)</a></li>
      <li><a href="/configure/https/ce/debian/manual.html">Manual (Using user-provided SSL certificates)</a></li>
    </ul>

    <h2 id="configure-passbolt">2. Configure passbolt</h2>

    <p>Before you can use the application, you need to configure it. Point your browser to the hostname / ip where passbolt can
be reached. You will reach a getting started page.</p>

    <figure>
    <img src="https://help.passbolt.com/assets/img/help/2018/11/web-installer-getting-started.png" alt="passbolt welcome page before configuration" style="max-width:586px;" />
    <span class="legend">fig. passbolt welcome page before configuration</span>
</figure>

    <p>Two options are available: <strong>Manual configuration</strong> and <strong>Wizard configuration</strong>. Choose Wizard configuration.</p>

    <p>This tutorial will guide you through the different steps of the wizard. The manual configuration is not
covered in this article.</p>

    <h3 id="healthcheck">2.1. Healthcheck</h3>

    <p>The first page of the wizard will tell you if your environment is ready for passbolt. Solve any issues and click on
“Start configuration” when ready.</p>

    <figure>
    <img src="https://help.passbolt.com/assets/img/help/2018/11/web-installer-ce-healthcheck.png" alt="wizard - healthcheck" style="max-width:586px;" />
    <span class="legend">fig. wizard - healthcheck</span>
</figure>

    <h3 id="database">2.2. Database</h3>

    <p>This step is about telling passbolt which database to use. For the sake of this example we
will use the preinstalled mariadb server that comes with the AMI so hostname is fixed to ‘127.0.0.1’
and the credentials provided in the <code class="language-plaintext highlighter-rouge">/root/.mysql_credentials</code></p>

    <ul>
      <li>Hostname: 127.0.0.1</li>
      <li>Port number: 3306</li>
      <li>Database name: passbolt_p5aEMDJ9</li>
      <li>Username: passbolt_usr_l9WIsaQO</li>
      <li>Password: SOME_RANDOM_PASSWORD_HERE</li>
    </ul>

    <figure>
    <img src="https://help.passbolt.com/assets/img/help/2018/11/web-installer-ce-database.png" alt="wizard - database" style="max-width:586px;" />
    <span class="legend">fig. wizard - database</span>
</figure>

    <h3 id="gpg-key">2.3. GPG key</h3>

    <p>In this section you can either generate or import a GPG key pair. This key pair will be used by passbolt API to authentify itself during the
authentication handshake process.</p>

    <p>Generate a key if you don’t have one.</p>

    <figure>
    <img src="https://help.passbolt.com/assets/img/help/2018/11/web-installer-ce-server-key-generate.png" alt="wizard - generate a key pair" style="max-width:586px;" />
    <span class="legend">fig. wizard - generate a key pair</span>
</figure>

    <p>Import a key if you already have one and you want your server to use it.</p>

    <figure>
    <img src="https://help.passbolt.com/assets/img/help/2018/11/web-installer-ce-server-key-import.png" alt="wizard - import a key pair" style="max-width:586px;" />
    <span class="legend">fig. wizard - import a key pair</span>
</figure>

    <h3 id="mail-server-smtp">2.4. Mail server (SMTP)</h3>

    <p>At this stage, the wizard will ask you to enter the details of your SMTP server.</p>

    <figure>
    <img src="https://help.passbolt.com/assets/img/help/2018/11/web-installer-ce-email.png" alt="wizard - smtp mail server details" style="max-width:586px;" />
    <span class="legend">fig. wizard - smtp mail server details</span>
</figure>

    <p>You can also test that your configuration is correct by using the test email feature at the right of your screen. Enter
the email address at which you want the wizard to send you a test email and click on “Send test email”.</p>

    <figure>
    <img src="https://help.passbolt.com/assets/img/help/2018/04/wizard-test-email.png" alt="wizard - test smtp settings" style="max-width:300px;" />
    <span class="legend">fig. wizard - test smtp settings</span>
</figure>

    <h3 id="preferences">2.5. Preferences</h3>

    <p>The wizard will then ask the preferences for your passbolt instance. The recommended defaults are already pre-populated
but you can also change them if you know what you are doing.</p>

    <figure>
    <img src="https://help.passbolt.com/assets/img/help/2018/11/web-installer-ce-options.png" alt="wizard - preferences" style="max-width:586px;" />
    <span class="legend">fig. wizard - preferences</span>
</figure>

    <h3 id="first-user-creation">2.6. First user creation</h3>

    <p>You need to create the first admin user account. This first admin user is probably you, so enter your details and click on next.</p>

    <figure>
    <img src="https://help.passbolt.com/assets/img/help/2018/11/web-installer-ce-first-user.png" alt="wizard - first user" style="max-width:586px;" />
    <span class="legend">fig. wizard - first user</span>
</figure>

    <h3 id="installation">2.7. Installation</h3>

    <p>That’s it. The wizard has now enough information to proceed with the configuration of passbolt. Sit back and relax for a few seconds while
the configuration process is going on.</p>

    <figure>
    <img src="https://help.passbolt.com/assets/img/help/2018/11/web-installer-ce-install.png" alt="wizard - installation" style="max-width:586px;" />
    <span class="legend">fig. wizard - installation</span>
</figure>

    <p>Your user account is now created. You will see a redirection page for a few second and then will be redirected
to the user setup process so that you can configure your user account.</p>

    <figure>
    <img src="https://help.passbolt.com/assets/img/help/2018/11/web-installer-ce-completed.png" alt="wizard - completion and redirection" style="max-width:586px;" />
    <span class="legend">fig. wizard - completion and redirection</span>
</figure>

    <h2 id="configure-your-administrator-account">3. Configure your administrator account</h2>

    <h3 id="download-the-plugin">3.1. Download the plugin</h3>

    <p>Before continuing passbolt will require you to download its plugin. If you already have it installed you can go to the
next step.</p>

    <h3 id="check-the-server-identity">3.2. Check the server identity</h3>

    <p>Passbolt will ask you to check the URL passbolt is associated with.</p>

    <p>If you recognize the domain name, check the checkbox and then click “Next”. It is a formality here, but it is a security
mesure that will help later your users to identify you passbolt instance.</p>

    <figure>
    <img src="https://help.passbolt.com/assets/img/help/2018/01/url-check.png" alt="Validation of the domain" style="max-width:450px;" />
    <span class="legend">fig. Validation of the domain</span>
</figure>

    <h3 id="create-a-new-key">3.3. Create a new key</h3>

    <p>Passbolt will ask you to create or import a key that will be later use to identify you and encrypt your passwords.</p>

    <figure>
    <img src="https://help.passbolt.com/assets/img/help/2018/11/plugin-registration-key-generate.png" alt="Generate a key" style="max-width:450px;" />
    <span class="legend">fig. Generate a key</span>
</figure>

    <h3 id="choose-a-password">3.4. Choose a password</h3>

    <p>Your key needs to be protected by a password. Choose it wisely, it will be the gatekeeper to all your other passwords.</p>

    <figure>
    <img src="https://help.passbolt.com/assets/img/help/2018/01/set-passphrase.png" alt="setting a passphrase" style="max-width:450px;" />
    <span class="legend">fig. setting a passphrase</span>
</figure>

    <h3 id="backup-your-key">3.5. Backup your key</h3>

    <p>This step is essential. Your key is the only way to access your account and passwords. If you lose this key (by breaking
or losing your computer and not having a backup for example), your encrypted data will be lost even if you remember your
passphrase.</p>

    <figure>
    <img src="https://help.passbolt.com/assets/img/help/2018/11/plugin-registration-backup.png" alt="backup your key" style="max-width:450px;" />
    <span class="legend">fig. backup your key</span>
</figure>

    <h3 id="define-your-security-token">3.6. Define your security token</h3>

    <p>Choosing a color and a three character token is a secondary security mechanism that helps you to mitigate phishing
attacks. Each time you are performing a sensitive operation on passbolt, you should see this token.</p>

    <figure>
    <img src="https://help.passbolt.com/assets/img/help/2018/11/plugin-registration-security-token.png" alt="define your security token" style="max-width:450px;" />
    <span class="legend">fig. define your security token</span>
</figure>

    <h3 id="thats-it">3.6. That’s it!</h3>

    <p>Your administrator account is configured. You will be redirected to the login page of passbolt. Enjoy!</p>

    <div class="last-updated">
      <h3>Last updated</h3>
      <p>This article was last updated on 
August
7th,
2019.</p>
    </div>

  </div>
  <div class="col4 last push1">

    <div class="message tldr notice">
    <p>Are you experiencing issues when installing passbolt?</p>
    
    <a href="https://community.passbolt.com/c/installation-issues" class="button primary">Ask the community!</a>
    
</div>

    <div class="message tldr">
    <p>Stay informed of the next releases!</p>
    
    <a href="https://github.com/passbolt/passbolt_api" class="button ">Star Passbolt CE on github</a>
    
</div>

  </div>
</div>

                    </article>
                </div>
            </div>
        </div>
            <footer>
        <div class="footer">
            <ul class="footer-links">
                <li><a href="https://www.passbolt.com/licence">Terms</a></li>
                <li><a href="https://www.passbolt.com/privacy">Privacy</a></li>
                <li><a href="https://www.passbolt.com/credits">Credits</a></li>
                <li><a href="https://careers.passbolt.com">Careers</a></li>
            </ul>
        </div>
    </footer>
    <div id="cookies-eu-banner" class="visually-hidden">
        🍪 &nbsp; Do you accept cookies for statistical purposes?
        <a href="https://www.passbolt.com/privacy" id="cookies-eu-more">(Read more)</a>
        <a class="button primary" id="cookies-eu-accept">Accept</a>
        <a id="cookies-eu-reject">No thanks!</a>
    </div>


    </div>
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-23506466-3"></script>
<script src="https://code.jquery.com/jquery-3.5.0.slim.min.js" integrity="sha384-/IFzzQmt1S744I+IQO4Mc1uphkxbXt1tEwjQ/qSw2p8pXWck09sLvqHmKDYYwReJ" crossorigin="anonymous"></script>
<script src="https://help.passbolt.com/assets/js/cookies-eu-banner.js"></script>
<script src="https://help.passbolt.com/assets/js/analytics.js"></script>
<script src="https://help.passbolt.com/assets/js/greedynav.js"></script>
</body>

</html>